
<!DOCTYPE html>
<html>
<head>
    <title>Manager Home</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <script>
        function loadApprovalRequests() {
            fetch('../backend/fetch_requests.php')
                .then(response => response.json())
                .then(data => {
                    const table = document.querySelector('#approvalRequestsTable tbody');
                    table.innerHTML = ''; // Clear existing rows
                    data.forEach(request => {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td>${request.id}</td>
                            <td>${request.destination}</td>
                            <td>${request.start_date}</td>
                            <td>${request.end_date}</td>
                            <td>${request.fname} ${request.lname}</td>
                        `;
                        table.appendChild(row);
                    });
                })
                .catch(error => console.error('Error fetching approval requests:', error));
        }

        window.onload = function() {
            loadApprovalRequests();
        };
    </script>
</head>
<body>
    <div class="container">
        <h1>Manager Home</h1>

        <section class="section">
            <h2>Approval Requests</h2>
            <table class="table" id="approvalRequestsTable">
                <thead>
                    <tr>
                        <th>Trip ID</th>
                        <th>Destination</th>
                        <th>Start Date</th>
                        <th>End Date</th>
                        <th>Submitted By</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </section>

        <button onclick="window.location.href='manage_budget.html'" class="button">Manage Budgets</button>
    </div>
</body>
</html>
